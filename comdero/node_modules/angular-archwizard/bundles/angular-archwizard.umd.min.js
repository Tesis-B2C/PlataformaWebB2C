!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("angular-archwizard",["exports","@angular/core","@angular/common"],e):e((t=t||self)["angular-archwizard"]={},t.ng.core,t.ng.common)}(this,function(t,e,n){"use strict";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){function t(t){this.templateRef=t}return t.decorators=[{type:e.Directive,args:[{selector:"ng-template[awStepSymbol], ng-template[awWizardStepSymbol]"}]}],t.ctorParameters=function(){return[{type:e.TemplateRef}]},t}(),a=function(){function t(t){this.templateRef=t}return t.decorators=[{type:e.Directive,args:[{selector:"ng-template[awStepTitle], ng-template[awWizardStepTitle]"}]}],t.ctorParameters=function(){return[{type:e.TemplateRef}]},t}(),p=function(){function t(){this.navigationSymbol={symbol:""},this.selected=!1,this.completed=!1,this.initiallyCompleted=!1,this.editing=!1,this.defaultSelected=!1,this.optional=!1,this.canEnter=!0,this.canExit=!0,this.stepEnter=new e.EventEmitter,this.stepExit=new e.EventEmitter}return Object.defineProperty(t.prototype,"hidden",{get:function(){return!this.selected},enumerable:!0,configurable:!0}),t.canTransitionStep=function(t,e){return typeof t==typeof!0?Promise.resolve(t):t instanceof Function?Promise.resolve(t(e)):Promise.reject(new Error("Input value '"+t+"' is neither a boolean nor a function"))},t.prototype.enter=function(t){this.stepEnter.emit(t)},t.prototype.exit=function(t){this.stepExit.emit(t)},t.prototype.canEnterStep=function(e){return t.canTransitionStep(this.canEnter,e)},t.prototype.canExitStep=function(e){return t.canTransitionStep(this.canExit,e)},t.propDecorators={stepTitleTemplate:[{type:e.ContentChild,args:[a,{static:!1}]}],stepSymbolTemplate:[{type:e.ContentChild,args:[o,{static:!1}]}],stepId:[{type:e.Input}],stepTitle:[{type:e.Input}],navigationSymbol:[{type:e.Input}],canEnter:[{type:e.Input}],canExit:[{type:e.Input}],stepEnter:[{type:e.Output}],stepExit:[{type:e.Output}],hidden:[{type:e.HostBinding,args:["hidden"]}]},t}(),s=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.stepExit=new e.EventEmitter,n.canExit=!1,n}return i(n,t),n.prototype.enter=function(t){this.completed=!0,this.stepEnter.emit(t)},n.prototype.exit=function(t){this.completed=this.initiallyCompleted,this.stepExit.emit(t)},n}(p),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.decorators=[{type:e.Component,args:[{selector:"aw-wizard-completion-step",template:"<ng-content></ng-content>\n",providers:[{provide:p,useExisting:e.forwardRef(function(){return n})},{provide:s,useExisting:e.forwardRef(function(){return n})}]}]}],n}(s),u={Forwards:0,Backwards:1,Stay:2};u[u.Forwards]="Forwards",u[u.Backwards]="Backwards",u[u.Stay]="Stay";var l=function(){function t(){}return t.prototype.canGoToStep=function(t,e){var n=this,r=t.hasStep(e),i=t.getMovingDirection(e);return Promise.resolve(r).then(function(r){return r&&n.canTransitionToStep(t,e)}).then(function(e){return e&&t.currentStep.canExitStep(i)}).then(function(n){return n&&t.getStepAtIndex(e).canEnterStep(i)})},t.prototype.canTransitionToStep=function(t,e){return this.isNavigable(t,e)},t.prototype.goToStep=function(t,e,n,r){var i=this;this.canGoToStep(t,e).then(function(o){if(o){var a=t.getMovingDirection(e);n&&n.emit(),t.currentStep.completed=!0,t.currentStep.exit(a),t.currentStep.editing=!1,t.currentStep.selected=!1,i.transition(t,e);var p=t.completed||t.currentStep.completed;t.currentStep.enter(a),t.currentStep.selected=!0,p&&(t.currentStep.editing=!0),r&&r.emit()}else t.currentStep.exit(u.Stay),t.currentStep.enter(u.Stay)})},t.prototype.transition=function(t,e){t.currentStepIndex=e},t.prototype.reset=function(t){this.ensureCanReset(t),t.wizardSteps.forEach(function(t){t.completed=t.initiallyCompleted,t.selected=!1,t.editing=!1}),t.currentStepIndex=t.defaultStepIndex,t.currentStep.selected=!0,t.currentStep.enter(u.Forwards)},t.prototype.ensureCanReset=function(t){if(!t.hasStep(t.defaultStepIndex))throw new Error("The wizard doesn't contain a step with index "+t.defaultStepIndex)},t}(),d=function(t){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=t.call(this)||this;return r.navigateBackward=e,r.navigateForward=n,r.navigateBackward=r.navigateBackward||"allow",r.navigateForward=r.navigateForward||"deny",r}return i(e,t),e.prototype.canTransitionToStep=function(t,e){return!!this.isNavigable(t,e)||t.wizardSteps.filter(function(n,r){return r<e&&r!==t.currentStepIndex}).every(function(t){return t.completed||t.optional})},e.prototype.transition=function(e,n){"deny"===this.navigateForward&&e.wizardSteps.filter(function(t,r){return e.currentStepIndex>n&&r>n}).forEach(function(t){return t.completed=!1}),t.prototype.transition.call(this,e,n)},e.prototype.isNavigable=function(t,e){var n=t.getStepAtIndex(e);if(n instanceof s&&!t.wizardSteps.filter(function(t,n){return n<e}).every(function(t){return t.completed||t.optional||t.selected}))return!1;if(e<t.currentStepIndex)switch(this.navigateBackward){case"allow":return!0;case"deny":return!1;default:throw new Error("Invalid value for navigateBackward: "+this.navigateBackward)}else{if(!(e>t.currentStepIndex))return!1;switch(this.navigateForward){case"allow":return!0;case"deny":return!1;case"visited":return n.completed;default:throw new Error("Invalid value for navigateForward: "+this.navigateForward)}}},e.prototype.ensureCanReset=function(e){if(t.prototype.ensureCanReset.call(this,e),e.getStepAtIndex(e.defaultStepIndex)instanceof s&&1!==e.wizardSteps.length)throw new Error("The default step index "+e.defaultStepIndex+" references a completion step")},e}(l),f=function(){function t(){this.navBarLocation="top",this.navBarLayout="small",this.navBarDirection="left-to-right",this._defaultStepIndex=0,this.disableNavigationBar=!1,this._navigation=new d,this._wizardSteps=[],this.currentStepIndex=-1}return Object.defineProperty(t.prototype,"defaultStepIndex",{get:function(){var t=this.wizardSteps.find(function(t){return t.defaultSelected});return t?this.getIndexOfStep(t):this._defaultStepIndex},set:function(t){this._defaultStepIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalOrientation",{get:function(){return"top"===this.navBarLocation||"bottom"===this.navBarLocation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalOrientation",{get:function(){return"left"===this.navBarLocation||"right"===this.navBarLocation},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this.wizardStepsQueryList.changes.subscribe(function(e){t.updateWizardSteps(e.toArray())}),this.updateWizardSteps(this.wizardStepsQueryList.toArray()),this.reset()},Object.defineProperty(t.prototype,"currentStep",{get:function(){return this.hasStep(this.currentStepIndex)?this.wizardSteps[this.currentStepIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"completed",{get:function(){return this.wizardSteps.every(function(t){return t.completed||t.optional})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wizardSteps",{get:function(){return this._wizardSteps},enumerable:!0,configurable:!0}),t.prototype.updateWizardSteps=function(t){this.wizardSteps.length>0&&this.currentStepIndex>-1&&(this.currentStepIndex=t.indexOf(this.wizardSteps[this.currentStepIndex])),this._wizardSteps=t},Object.defineProperty(t.prototype,"navigation",{get:function(){return this._navigation},set:function(t){this._navigation=t},enumerable:!0,configurable:!0}),t.prototype.hasStep=function(t){return this.wizardSteps.length>0&&0<=t&&t<this.wizardSteps.length},t.prototype.hasPreviousStep=function(){return this.hasStep(this.currentStepIndex-1)},t.prototype.hasNextStep=function(){return this.hasStep(this.currentStepIndex+1)},t.prototype.isLastStep=function(){return this.wizardSteps.length>0&&this.currentStepIndex===this.wizardSteps.length-1},t.prototype.getStepAtIndex=function(t){if(!this.hasStep(t))throw new Error("Expected a known step, but got stepIndex: "+t+".");return this.wizardSteps[t]},t.prototype.getIndexOfStepWithId=function(t){return this.wizardSteps.findIndex(function(e){return e.stepId===t})},t.prototype.getIndexOfStep=function(t){return this.wizardSteps.indexOf(t)},t.prototype.getMovingDirection=function(t){return t>this.currentStepIndex?u.Forwards:t<this.currentStepIndex?u.Backwards:u.Stay},t.prototype.canGoToStep=function(t){return this.navigation.canGoToStep(this,t)},t.prototype.goToStep=function(t,e,n){return this.navigation.goToStep(this,t,e,n)},t.prototype.goToPreviousStep=function(t,e){return this.navigation.goToStep(this,this.currentStepIndex-1,t,e)},t.prototype.goToNextStep=function(t,e){return this.navigation.goToStep(this,this.currentStepIndex+1,t,e)},t.prototype.isNavigable=function(t){return this.navigation.isNavigable(this,t)},t.prototype.reset=function(){this.navigation.reset(this)},t.decorators=[{type:e.Component,args:[{selector:"aw-wizard",template:"<aw-wizard-navigation-bar\n  [direction]=\"navBarDirection\"\n  *ngIf=\"navBarLocation == 'top' || navBarLocation == 'left'\"\n  [ngClass]=\"{\n    vertical: navBarLocation == 'left',\n    horizontal: navBarLocation == 'top',\n    small: navBarLayout == 'small',\n    'large-filled': navBarLayout == 'large-filled',\n    'large-filled-symbols': navBarLayout == 'large-filled-symbols',\n    'large-empty': navBarLayout == 'large-empty',\n    'large-empty-symbols': navBarLayout == 'large-empty-symbols'\n  }\">\n</aw-wizard-navigation-bar>\n\n<div [ngClass]=\"{\n  'wizard-steps': true,\n  vertical: navBarLocation == 'left' || navBarLocation == 'right',\n  horizontal: navBarLocation == 'top' || navBarLocation == 'bottom'\n}\">\n  <ng-content></ng-content>\n</div>\n\n<aw-wizard-navigation-bar\n  [direction]=\"navBarDirection\"\n  *ngIf=\"navBarLocation == 'bottom' || navBarLocation == 'right'\"\n  [ngClass]=\"{\n    vertical: navBarLocation == 'right',\n    horizontal: navBarLocation == 'bottom',\n    small: navBarLayout == 'small',\n    'large-filled': navBarLayout == 'large-filled',\n    'large-filled-symbols': navBarLayout == 'large-filled-symbols',\n    'large-empty': navBarLayout == 'large-empty',\n    'large-empty-symbols': navBarLayout == 'large-empty-symbols'\n  }\">\n</aw-wizard-navigation-bar>\n"}]}],t.ctorParameters=function(){return[]},t.propDecorators={wizardStepsQueryList:[{type:e.ContentChildren,args:[p]}],navBarLocation:[{type:e.Input}],navBarLayout:[{type:e.Input}],navBarDirection:[{type:e.Input}],defaultStepIndex:[{type:e.Input}],disableNavigationBar:[{type:e.Input}],horizontalOrientation:[{type:e.HostBinding,args:["class.horizontal"]}],verticalOrientation:[{type:e.HostBinding,args:["class.vertical"]}]},t}(),g=function(){function t(t){this.wizard=t,this.direction="left-to-right"}return Object.defineProperty(t.prototype,"wizardSteps",{get:function(){switch(this.direction){case"right-to-left":return this.wizard.wizardSteps.slice().reverse();case"left-to-right":default:return this.wizard.wizardSteps}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberOfWizardSteps",{get:function(){return this.wizard.wizardSteps.length},enumerable:!0,configurable:!0}),t.prototype.isCurrent=function(t){return t.selected},t.prototype.isEditing=function(t){return t.editing},t.prototype.isDone=function(t){return t.completed},t.prototype.isOptional=function(t){return t.optional},t.prototype.isCompleted=function(t){return t instanceof s&&this.wizard.completed},t.prototype.isNavigable=function(t){return!t.selected&&!this.wizard.disableNavigationBar&&this.wizard.isNavigable(this.wizard.getIndexOfStep(t))},t.decorators=[{type:e.Component,args:[{selector:"aw-wizard-navigation-bar",template:'<ul class="steps-indicator steps-{{numberOfWizardSteps}}">\n  <li [attr.id]="step.stepId" *ngFor="let step of wizardSteps"\n      [ngClass]="{\n        current: isCurrent(step),\n        editing: isEditing(step),\n        done: isDone(step),\n        optional: isOptional(step),\n        completed: isCompleted(step),\n        navigable: isNavigable(step)\n  }">\n    <a [awGoToStep]="step">\n      <div class="label">\n        <ng-container *ngIf="step.stepTitleTemplate" [ngTemplateOutlet]="step.stepTitleTemplate.templateRef"></ng-container>\n        <ng-container *ngIf="!step.stepTitleTemplate">{{step.stepTitle}}</ng-container>\n      </div>\n      <div class="step-indicator" [ngStyle]="{ \'font-family\': step.stepSymbolTemplate ? \'\' : step.navigationSymbol.fontFamily }">\n        <ng-container *ngIf="step.stepSymbolTemplate" [ngTemplateOutlet]="step.stepSymbolTemplate.templateRef"></ng-container>\n        <ng-container *ngIf="!step.stepSymbolTemplate">{{step.navigationSymbol.symbol}}</ng-container>\n      </div>\n    </a>\n  </li>\n</ul>\n'}]}],t.ctorParameters=function(){return[{type:f}]},t.propDecorators={direction:[{type:e.Input}]},t}(),h=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.decorators=[{type:e.Component,args:[{selector:"aw-wizard-step",template:"<ng-content></ng-content>\n",providers:[{provide:p,useExisting:e.forwardRef(function(){return n})}]}]}],n}(p),y=function(){function t(t){this.completionStep=t,this.stepExit=new e.EventEmitter}return t.prototype.ngOnInit=function(){this.completionStep.canExit=!0,this.completionStep.stepExit=this.stepExit},t.decorators=[{type:e.Directive,args:[{selector:"[awEnableBackLinks]"}]}],t.ctorParameters=function(){return[{type:s,decorators:[{type:e.Host}]}]},t.propDecorators={stepExit:[{type:e.Output}]},t}();function S(t){return t.hasOwnProperty("stepId")&&!(t instanceof p)}function v(t){return t.hasOwnProperty("stepIndex")}function m(t){return t.hasOwnProperty("stepOffset")}var w=function(){function t(t,n){this.wizard=t,this.wizardStep=n,this.preFinalize=new e.EventEmitter,this.postFinalize=new e.EventEmitter}return Object.defineProperty(t.prototype,"finalize",{get:function(){return this.preFinalize},set:function(t){this.preFinalize=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destinationStep",{get:function(){var t;if(v(this.targetStep))t=this.targetStep.stepIndex;else if(S(this.targetStep))t=this.wizard.getIndexOfStepWithId(this.targetStep.stepId);else if(m(this.targetStep)&&null!==this.wizardStep)t=this.wizard.getIndexOfStep(this.wizardStep)+this.targetStep.stepOffset;else{if(!(this.targetStep instanceof p))throw new Error("Input 'targetStep' is neither a WizardStep, StepOffset, StepIndex or StepId");t=this.wizard.getIndexOfStep(this.targetStep)}return t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(t){this.wizard.goToStep(this.destinationStep,this.preFinalize,this.postFinalize)},t.decorators=[{type:e.Directive,args:[{selector:"[awGoToStep]"}]}],t.ctorParameters=function(){return[{type:f},{type:p,decorators:[{type:e.Optional}]}]},t.propDecorators={preFinalize:[{type:e.Output}],postFinalize:[{type:e.Output}],targetStep:[{type:e.Input,args:["awGoToStep"]}],finalize:[{type:e.Output}],onClick:[{type:e.HostListener,args:["click",["$event"]]}]},t}(),z=function(){function t(t){this.wizard=t,this.preFinalize=new e.EventEmitter,this.postFinalize=new e.EventEmitter}return Object.defineProperty(t.prototype,"finalize",{get:function(){return this.preFinalize},set:function(t){this.preFinalize=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(t){this.wizard.goToNextStep(this.preFinalize,this.postFinalize)},t.decorators=[{type:e.Directive,args:[{selector:"[awNextStep]"}]}],t.ctorParameters=function(){return[{type:f}]},t.propDecorators={preFinalize:[{type:e.Output}],postFinalize:[{type:e.Output}],finalize:[{type:e.Output}],onClick:[{type:e.HostListener,args:["click",["$event"]]}]},t}(),b=function(){function t(t){this.wizardStep=t}return t.prototype.ngOnInit=function(){this.wizardStep.optional=!0},t.decorators=[{type:e.Directive,args:[{selector:"[awOptionalStep]"}]}],t.ctorParameters=function(){return[{type:p,decorators:[{type:e.Host}]}]},t}(),x=function(){function t(t){this.wizard=t,this.preFinalize=new e.EventEmitter,this.postFinalize=new e.EventEmitter}return Object.defineProperty(t.prototype,"finalize",{get:function(){return this.preFinalize},set:function(t){this.preFinalize=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(t){this.wizard.goToPreviousStep(this.preFinalize,this.postFinalize)},t.decorators=[{type:e.Directive,args:[{selector:"[awPreviousStep]"}]}],t.ctorParameters=function(){return[{type:f}]},t.propDecorators={preFinalize:[{type:e.Output}],postFinalize:[{type:e.Output}],finalize:[{type:e.Output}],onClick:[{type:e.HostListener,args:["click",["$event"]]}]},t}(),I=function(){function t(t){this.wizard=t,this.finalize=new e.EventEmitter}return t.prototype.onClick=function(t){this.finalize.emit(),this.wizard.reset()},t.decorators=[{type:e.Directive,args:[{selector:"[awResetWizard]"}]}],t.ctorParameters=function(){return[{type:f}]},t.propDecorators={finalize:[{type:e.Output}],onClick:[{type:e.HostListener,args:["click",["$event"]]}]},t}(),E=function(){function t(t){this.wizardStep=t}return t.prototype.ngOnInit=function(){this.wizardStep.defaultSelected=!0},t.decorators=[{type:e.Directive,args:[{selector:"[awSelectedStep]"}]}],t.ctorParameters=function(){return[{type:p,decorators:[{type:e.Host}]}]},t}(),O=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.decorators=[{type:e.Directive,args:[{selector:"[awWizardCompletionStep]",providers:[{provide:p,useExisting:e.forwardRef(function(){return n})},{provide:s,useExisting:e.forwardRef(function(){return n})}]}]}],n}(s),B=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.decorators=[{type:e.Directive,args:[{selector:"[awWizardStep]",providers:[{provide:p,useExisting:e.forwardRef(function(){return n})}]}]}],n}(p),C=function(){function t(t){this.wizard=t}return t.prototype.ngOnChanges=function(t){this.wizard.navigation=this.getNavigationMode()},t.prototype.getNavigationMode=function(){return this.awNavigationMode?this.awNavigationMode:new d(this.navigateBackward,this.navigateForward)},t.decorators=[{type:e.Directive,args:[{selector:"[awNavigationMode]"}]}],t.ctorParameters=function(){return[{type:f}]},t.propDecorators={awNavigationMode:[{type:e.Input}],navigateBackward:[{type:e.Input}],navigateForward:[{type:e.Input}]},t}(),T=function(){function t(t){this.wizardStep=t,this.initiallyCompleted=!0}return t.prototype.ngOnInit=function(){this.wizardStep.initiallyCompleted=this.initiallyCompleted||""===this.initiallyCompleted},t.decorators=[{type:e.Directive,args:[{selector:"[awCompletedStep]"}]}],t.ctorParameters=function(){return[{type:p,decorators:[{type:e.Host}]}]},t.propDecorators={initiallyCompleted:[{type:e.Input,args:["awCompletedStep"]}]},t}(),D=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:e.NgModule,args:[{declarations:[f,h,g,c,w,z,x,b,o,a,y,B,O,E,I,C,T],imports:[n.CommonModule],exports:[f,h,g,c,w,z,x,b,o,a,y,B,O,E,I,C,T]}]}],t}();t.ArchwizardModule=D,t.BaseNavigationMode=l,t.CompletedStepDirective=T,t.ConfigurableNavigationMode=d,t.EnableBackLinksDirective=y,t.GoToStepDirective=w,t.MovingDirection=u,t.NavigationModeDirective=C,t.NextStepDirective=z,t.OptionalStepDirective=b,t.PreviousStepDirective=x,t.ResetWizardDirective=I,t.SelectedStepDirective=E,t.WizardCompletionStep=s,t.WizardCompletionStepComponent=c,t.WizardCompletionStepDirective=O,t.WizardComponent=f,t.WizardNavigationBarComponent=g,t.WizardStep=p,t.WizardStepComponent=h,t.WizardStepDirective=B,t.WizardStepTitleDirective=a,t.isStepId=S,t.isStepIndex=v,t.isStepOffset=m,t.ɵa=o,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=angular-archwizard.umd.min.js.map