!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("chart.js")):"function"==typeof define&&define.amd?define("ng2-charts",["exports","@angular/core","chart.js"],r):r(t["ng2-charts"]={},t.ng.core,t.chart_js)}(this,function(t,r,o){"use strict";function i(t,r){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var a,n,o=e.call(t),i=[];try{for(;(void 0===r||0<r--)&&!(a=o.next()).done;)i.push(a.value)}catch(s){n={error:s}}finally{try{a&&!a.done&&(e=o["return"])&&e.call(o)}finally{if(n)throw n.error}}return i}var a=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]];function n(t,r,e){if("pie"===t||"doughnut"===t)return function a(t){return{backgroundColor:t.map(function(t){return s(t,.6)}),borderColor:t.map(function(){return"#fff"}),pointBackgroundColor:t.map(function(t){return s(t,1)}),pointBorderColor:t.map(function(){return"#fff"}),pointHoverBackgroundColor:t.map(function(t){return s(t,1)}),pointHoverBorderColor:t.map(function(t){return s(t,1)})}}(h(e));if("polarArea"===t)return function n(t){return{backgroundColor:t.map(function(t){return s(t,.6)}),borderColor:t.map(function(t){return s(t,1)}),hoverBackgroundColor:t.map(function(t){return s(t,.8)}),hoverBorderColor:t.map(function(t){return s(t,1)})}}(h(e));if("line"===t||"radar"===t)return function o(t){return{backgroundColor:s(t,.4),borderColor:s(t,1),pointBackgroundColor:s(t,1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:s(t,.8)}}(c(r));if("bar"===t||"horizontalBar"===t)return function i(t){return{backgroundColor:s(t,.6),borderColor:s(t,1),hoverBackgroundColor:s(t,.8),hoverBorderColor:s(t,1)}}(c(r));throw new Error("getColors - Unsupported chart type "+t)}function s(t,r){return"rgba("+t.concat(r).join(",")+")"}function e(t,r){return Math.floor(Math.random()*(r-t+1))+t}function u(){return[e(0,255),e(0,255),e(0,255)]}function c(t){return a[t]||u()}function h(t){for(var r=new Array(t),e=0;e<t;e++)r[e]=a[e]||u();return r}var l=function(){function t(t){this.element=t,this.options={},this.chartClick=new r.EventEmitter,this.chartHover=new r.EventEmitter,this.initFlag=!1}return t.registerPlugin=function(t){o.Chart.plugins.register(t)},t.prototype.ngOnInit=function(){this.ctx=this.element.nativeElement.getContext("2d"),this.initFlag=!0,(this.data||this.datasets)&&this.refresh()},t.prototype.ngOnChanges=function(t){if(this.initFlag){var r=!1;(t.hasOwnProperty("data")||t.hasOwnProperty("datasets"))&&(t.data?this.updateChartData(t.data.currentValue):this.updateChartData(t.datasets.currentValue),r=!0),t.hasOwnProperty("labels")&&(this.chart.data.labels=t.labels.currentValue,r=!0),t.hasOwnProperty("legend")&&(this.chart.config.options.legend.display=t.legend.currentValue,this.chart.generateLegend(),r=!0),r?this.chart.update():this.refresh()}},t.prototype.ngOnDestroy=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},t.prototype.update=function(t,r){return this.chart.update(t,r)},t.prototype.getChartBuilder=function(t){var e=this,r=this.getDatasets(),a=Object.assign({},this.options);!1===this.legend&&(a.legend={display:!1}),a.hover=a.hover||{},a.hover.onHover||(a.hover.onHover=function(t,r){r&&!r.length||e.chartHover.emit({event:t,active:r})}),a.onClick||(a.onClick=function(t,r){e.chartClick.emit({event:t,active:r})});var n={type:this.chartType,data:{labels:this.labels,datasets:r},options:a};return new o.Chart(t,n)},t.prototype.isChartDataSetsArray=function(t){var r=t[0];return"object"==typeof r&&"data"in r},t.prototype.updateChartData=function(e){var a=this;this.isChartDataSetsArray(e)?e.length===this.chart.data.datasets.length?this.chart.data.datasets.forEach(function(t,r){t.data=e[r].data,e[r].label&&(t.label=e[r].label)}):this.chart.data.datasets=function n(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(i(arguments[r]));return t}(e):this.isSingleDataSet(e)?this.chart.data.datasets[0].data=e:e.length===this.chart.data.datasets.length?this.chart.data.datasets.forEach(function(t,r){t.data=e[r]}):this.chart.data.datasets=e.map(function(t,r){return{data:t,label:a.labels[r]||"Label "+r}})},t.prototype.isSingleDataSet=function(t){return!Array.isArray(t[0])},t.prototype.getDatasets=function(){var a=this,t=void 0;if((!this.datasets||!this.datasets.length&&this.data&&this.data.length)&&(t=this.isSingleDataSet(this.data)?[{data:this.data,label:"Label 0"}]:this.data.map(function(t,r){return{data:t,label:a.labels[r]||"Label "+r}})),(this.datasets&&this.datasets.length||t&&t.length)&&(t=(this.datasets||t).map(function(t,r){var e=Object.assign({},t);return a.colors&&a.colors.length?Object.assign(e,a.colors[r]):Object.assign(e,n(a.chartType,r,e.data.length)),e})),!t)throw new Error("ng-charts configuration error,\n      data or datasets field are required to render char "+this.chartType);return t},t.prototype.refresh=function(){this.ngOnDestroy(),this.chart=this.getChartBuilder(this.ctx)},t.decorators=[{type:r.Directive,args:[{selector:"canvas[baseChart]",exportAs:"base-chart"}]}],t.ctorParameters=function(){return[{type:r.ElementRef}]},t.propDecorators={data:[{type:r.Input}],datasets:[{type:r.Input}],labels:[{type:r.Input}],options:[{type:r.Input}],chartType:[{type:r.Input}],colors:[{type:r.Input}],legend:[{type:r.Input}],chartClick:[{type:r.Output}],chartHover:[{type:r.Output}]},t}(),d=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{declarations:[l],imports:[],exports:[l]}]}],t}();t.ChartsModule=d,t.BaseChartDirective=l,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng2-charts.umd.min.js.map