{"version":3,"file":"ngx-push-notification.js","sources":["ng://ngx-push-notification/lib/ngx-push-notification.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Observable, Observer } from 'rxjs';\n\nimport { Options } from './options';\nimport { Type } from './type';\n\nimport * as webNotification from 'simple-web-notification';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgxPushNotificationService {\n  showNotification(options: Options): Observable<Type> {\n    const observable = new Observable((observer: Observer<Type>) => {\n      webNotification.showNotification(options.title, {\n        body: options.body,\n        icon: options.icon,\n        onClick: function onNotificationClicked() {\n          observer.next({\n            type: 'click'\n          });\n        },\n        autoClose: 4000\n      }, function onShow(error, hide) {\n        if (error) {\n          observer.error(error.message);\n        } else {\n          observer.next({\n            type: 'show'\n          });\n\n          setTimeout(function hideNotification() {\n            observer.next({\n              type: 'close'\n            });\n            hide();\n          }, 4000);\n        }\n      });\n    });\n\n    return observable;\n  }\n}\n"],"names":["webNotification.showNotification"],"mappings":";;;;;;;;AAAA;IAQA;KAmCC;;;;;IA/BC,qDAAgB;;;;IAAhB,UAAiB,OAAgB;;YACzB,UAAU,GAAG,IAAI,UAAU;;;;QAAC,UAAC,QAAwB;YACzDA,gBAAgC,CAAC,OAAO,CAAC,KAAK,EAAE;gBAC9C,IAAI,EAAE,OAAO,CAAC,IAAI;gBAClB,IAAI,EAAE,OAAO,CAAC,IAAI;gBAClB,OAAO;;;gBAAE,SAAS,qBAAqB;oBACrC,QAAQ,CAAC,IAAI,CAAC;wBACZ,IAAI,EAAE,OAAO;qBACd,CAAC,CAAC;iBACJ,CAAA;gBACD,SAAS,EAAE,IAAI;aAChB;;;;;YAAE,SAAS,MAAM,CAAC,KAAK,EAAE,IAAI;gBAC5B,IAAI,KAAK,EAAE;oBACT,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;iBAC/B;qBAAM;oBACL,QAAQ,CAAC,IAAI,CAAC;wBACZ,IAAI,EAAE,MAAM;qBACb,CAAC,CAAC;oBAEH,UAAU;;;oBAAC,SAAS,gBAAgB;wBAClC,QAAQ,CAAC,IAAI,CAAC;4BACZ,IAAI,EAAE,OAAO;yBACd,CAAC,CAAC;wBACH,IAAI,EAAE,CAAC;qBACR,GAAE,IAAI,CAAC,CAAC;iBACV;aACF,EAAC,CAAC;SACJ,EAAC;QAEF,OAAO,UAAU,CAAC;KACnB;;gBAlCF,UAAU,SAAC;oBACV,UAAU,EAAE,MAAM;iBACnB;;;qCAVD;CAQA;;;;;;;;;;;;;;"}