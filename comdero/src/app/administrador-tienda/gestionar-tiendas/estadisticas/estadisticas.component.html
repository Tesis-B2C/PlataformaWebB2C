<body id="body" class="bg">
<div class="mt-5 container-fluid">
  <div class="row  justify-content-center" id="top">
    <h4 class=" col-11">Estadisticas</h4>
    <hr class="col-11">
  </div>
  <div class=" mt-3 ">
    <div class="row mx-md-5">

      <div class="col-lg-3">
        <div class="card borde shadow mover">
          <div class="card-body "><a class="bg-danger float-left mt-100  borde ">
            <i class="fa fa-tags fa-2x  p-3"></i></a>
            <p class="text-right text-danger font-weight-light mb-2 font-weight-bold" style="font-size: 1rem">Ventas</p>
            <h3 class=" text-right  font-weight-normal">{{ventas}}</h3>
          </div>
          <p routerLink="../listado-pedidos" class="pl-3 pb-2 text-muted link" style="font-size: small"><span
            class="fa fa-warning text-danger "></span>
            &nbsp; Obtener más información</p>
        </div>
      </div>
      <div class="col-lg-3">
        <div class="card borde shadow mover">
          <div class="card-body "><a class="bg-warning float-left mt-100  borde"><i
            class="fa fa-star fa-2x  p-3"></i></a>
            <p class="text-right text-warning font-weight-light mb-2 font-weight-bold " style="font-size: 1rem">
              Calificación</p>
            <h3 class=" text-right  font-weight-normal">{{calificacion| number}}</h3>
          </div>
          <p class="pl-3 pb-2 text-muted " style="font-size: small"><span
            class="fa fa-info-circle text-warning "></span> &nbsp; Calificacion promedio</p>
        </div>
      </div>
      <div class="col-lg-3">
        <div class="card borde shadow mover">
          <div class="card-body "><a class="bg-primary float-left mt-100  borde "><i
            class="fa fa-box-open fa-2x  p-3"></i></a>
            <p class="text-right text-primary font-weight-light mb-2 font-weight-bold" style="font-size: 1rem">
              Productos</p>
            <h3 class=" text-right  font-weight-normal">{{productos}}</h3>
          </div>
          <p routerLink="../listado-productos" class="pl-3 pb-2 text-muted link " style="font-size: small"><span
            class="fa fa-warning text-primary "></span> &nbsp; Obtener más información</p>
        </div>
      </div>
      <div class="col-lg-3">
        <div class="card borde shadow mover">
          <div class="card-body "><a class="bg-info float-left mt-100  borde "><i
            class="fa fa-eye fa-2x  p-3"></i></a>
            <p class="text-right text-info font-weight-light mb-2 " style="font-size: 1rem">Visitas</p>
            <h3 class=" text-right  font-weight-normal">{{visitas}}</h3>
          </div>
          <p class="pl-3 pb-2 text-muted " style="font-size: small"><span class="fa fa-info-circle text-info "></span>
            &nbsp; Visitas a tu tienda</p>
        </div>
      </div>
    </div>
  </div>
  <br>

  <div class="  ">
    <div class="row mx-md-5 ">
      <div class="col-md-3 ">
        <div class="chart card card-body shadow">
          <p class="mb-0">Métodos de pago</p>
          <p style="font-size: x-small" class="text-muted">Ventas realizadas según los métodos de pago</p>
          <p class="text-info"
             *ngIf="metodosPago?.Efectivo==0 && metodosPago?.Transferencia==0 && metodosPago?.PayPal==0">No existen
            productos comprados por estos medios</p>
          <div style="display: block; width: 80%; height: 400px;" class="mx-auto ">
            <canvas *ngIf="metodosPago?.Efectivo!=0 || metodosPago?.Transferencia!=0 || metodosPago?.PayPal!=0"
                    baseChart
                    [data]="pieChartData"
                    [labels]="pieChartLabels"
                    [chartType]="pieChartType"
                    [options]="pieChartOptions"
                    [colors]="pieChartColors"
                    [legend]="pieChartLegend">
            </canvas>
          </div>

        </div>
      </div>
      <div class="col-md-3 ">
        <div class="chart card card-body shadow">
          <p class="mb-0">Métodos de envío</p>
          <p style="font-size: x-small" class="text-muted">Ventas realizadas según los métodos de envío</p>
          <p class="text-info"
             *ngIf="metodosEnvio?.Retiro==0 && metodosEnvio?.Acordar==0 && metodosEnvio?.Domicilio==0">No existen
            productos comprados por estos medios</p>
          <div style="display: block; width: 80%; height: 400px;" class="mx-auto ">
            <canvas height="40px" width="80px"
                    *ngIf="metodosEnvio?.Retiro!=0 || metodosEnvio?.Acordar!=0 || metodosEnvio?.Domicilio!=0" baseChart
                    [data]="pieChartData1"
                    [labels]="pieChartLabels1"
                    [chartType]="pieChartType"
                    [options]="pieChartOptions"
                    [colors]="pieChartColors"
                    [legend]="pieChartLegend">
            </canvas>
          </div>
        </div>
      </div>
      <div class="col-md-3 ">

        <div class="chart card card-body shadow">
          <p class="mb-0">Descuentos</p>
          <p style="font-size: x-small" class="text-muted">Total de descuentos generados</p>
          <p class="text-info" *ngIf="descuentos?.Cupon==0 && descuentos?.Automatico==0">No existen descuentos
            creados</p>
          <div style="display: block; width: 80%; height: 400px;" class="mx-auto ">
            <canvas height="40px" width="80px" *ngIf="descuentos?.Cupon!=0 || descuentos?.Automatico!=0" baseChart
                    [colors]="doughnuChartColors"
                    [data]="doughnutChartData"
                    [labels]="doughnutChartLabels"
                    [chartType]="doughnutChartType"
                    [options]="doughnutChartOptions">
            </canvas>
          </div>
        </div>
      </div>
      <div class="col-md-3 ">
        <div class="card card-body shadow  " style="max-width: 100%; height: 100%">
          <h4 class="mb-0   ">Más vendido </h4>
          <p class="text-muted">El producto más vendido</p>
          <div class="row no-gutters align-content-center">
            <div class="col-md-4">
              <img [src]="getImagen(this.productoMasVendido?.IMAGEN_PRODUCTOs[0].IMAGEN)" class="card-img" alt="imagen"
                   height="auto">
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <p class="text-info" *ngIf="!this.productoMasVendido?.PRODUCTO.NOMBRE_PRODUCTO">No se han realizado
                  compras a tu tienda </p>
                <h5 class="title-card">{{this.productoMasVendido?.PRODUCTO.NOMBRE_PRODUCTO}}</h5>
                <p *ngIf="this.productoMasVendido?.PRODUCTO.MARCA"><strong>Marca:</strong>
                  &nbsp;&nbsp;{{this.productoMasVendido?.PRODUCTO.MARCA}}</p>
                <p *ngIf="this.productoMasVendido?.COLOR"><strong>Color:</strong>&nbsp; &nbsp; <a
                  [style.background-color]="this.productoMasVendido?.COLOR" class="px-2"></a></p>
                <p *ngIf="this.productoMasVendido?.TALLA"><strong>Talla:</strong> &nbsp;
                  &nbsp;{{this.productoMasVendido?.TALLA}}</p>
                <p *ngIf="this.productoMasVendido?.MATERIAL"><strong>Material:</strong>&nbsp;
                  &nbsp;{{this.productoMasVendido?.MATERIAL}}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

    <div class="row mx-md-5  justify-content-between">

      <div class="col-12 mt-4">

        <div class="card card-body shadow-lg">
          <div class="row px-5">
            <div class="col">
              <h4 class="mb-0">Ventas</h4>
              <p>Ventas realizadas por mes</p>
            </div>
            <div class="dropdown float-right align-content-center ml-auto col-md-auto btn-sm">
              <select class="form-control small" (change)="cambiarAnio($event.target.value)">
                <option disabled>{{anioActual}} Actual</option>
                <option *ngFor="let anio of anios" [value]="anio">{{anio}}</option>
              </select>
            </div>
          </div>

          <br>
          <div style="display: block; width: 100%; height: 400px;">
            <canvas baseChart [colors]="curveChartColors" [datasets]="curveChartData"
                    [labels]="curveChartLabels"
                    [options]="curveChartOptions"
                    [legend]="curveChartLegend" [chartType]="curveChartType" (chartHover)="chartHovered($event)"
                    (chartClick)="chartClicked($event)"></canvas>
          </div>
        </div>
      </div>
      <div class="col-md-5  mt-md-0 mt-3">


      </div>

    </div>
    <br>



  <div class="row mx-md-5 justify-content-between ">
    <div class="col-md-12">
      <div class="card card-body shadow-lg">


        <h4 class="mb-0">Ventas vs Visitas</h4>
        <p>Ventas y visitas realizadas por mes</p>


        <div style="display: block; width: 100%; height: 400px;">
          <canvas baseChart
                  [colors]="barChartColors"
                  [datasets]="barChartData"
                  [labels]="barChartLabels"
                  [options]="barChartOptions"
                  [legend]="barChartLegend"
                  [chartType]="barChartType">
          </canvas>
        </div>

      </div>

    </div>
    <div class="col-md-5  mt-md-0 mt-3">


    </div>
  </div>
</div>
<br><br><br><br><br>
</body>
