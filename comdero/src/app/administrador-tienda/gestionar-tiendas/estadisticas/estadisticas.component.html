<body id="body" class="bg">
<div class="mt-5 container-fluid">
  <div class="row  justify-content-center" id="top">
    <h4 class=" col-11">Estadisticas</h4>
    <hr class="col-11">
  </div>
  <div class="container-fluid  justify-content-center mt-3 ">
    <div class="row mx-md-5">

      <div class="col-lg-3">
        <div class="card borde shadow mover">
          <div class="card-body "><a class="bg-danger float-left mt-100  borde ">
            <i class="fa fa-tags fa-2x  p-3"></i></a>
            <p class="text-right text-danger font-weight-light mb-2 font-weight-bold" style="font-size: 1rem">Ventas</p>
            <h3 class=" text-right  font-weight-normal">{{ventas}}</h3>
          </div>
          <p class="pl-3 pb-2 text-muted link" style="font-size: small"><span class="fa fa-warning text-danger "></span>
            &nbsp; Obtener más información</p>
        </div>
      </div>
      <div class="col-lg-3">
        <div class="card borde shadow mover">
          <div class="card-body "><a class="bg-warning float-left mt-100  borde"><i
            class="fa fa-star fa-2x  p-3"></i></a>
            <p class="text-right text-warning font-weight-light mb-2 font-weight-bold " style="font-size: 1rem">
              Calificación</p>
            <h3 class=" text-right  font-weight-normal">{{calificacion| number}}</h3>
          </div>
          <p class="pl-3 pb-2 text-muted " style="font-size: small"><span
            class="fa fa-info-circle text-warning "></span> &nbsp; Calificacion promedio</p>
        </div>
      </div>
      <div class="col-lg-3">
        <div class="card borde shadow mover">
          <div class="card-body "><a class="bg-primary float-left mt-100  borde "><i
            class="fa fa-box-open fa-2x  p-3"></i></a>
            <p class="text-right text-primary font-weight-light mb-2 font-weight-bold" style="font-size: 1rem">
              Productos</p>
            <h3 class=" text-right  font-weight-normal">{{productos}}</h3>
          </div>
          <p class="pl-3 pb-2 text-muted link " style="font-size: small"><span
            class="fa fa-warning text-primary "></span> &nbsp; Obtener más información</p>
        </div>
      </div>
      <div class="col-lg-3">
        <div class="card borde shadow mover">
          <div class="card-body "><a class="bg-info float-left mt-100  borde "><i
            class="fa fa-eye fa-2x  p-3"></i></a>
            <p class="text-right text-info font-weight-light mb-2 " style="font-size: 1rem">Visitas</p>
            <h3 class=" text-right  font-weight-normal">{{visitas}}</h3>
          </div>
          <p class="pl-3 pb-2 text-muted " style="font-size: small"><span class="fa fa-info-circle text-info "></span>
            &nbsp; Visitas a tu tienda</p>
        </div>
      </div>
    </div>
  </div>
  <br>
  <div class="container-fluid mx-auto ">
    <div class="row mx-md-5 ">

      <div class="col-md-4">
        <div class="chart card card-body shadow">
          <p class="mb-0">Métodos de pago</p>
          <p style="font-size: x-small" class="text-muted">Ventas realizadas según los métodos de pago</p>
          <canvas baseChart
                  [data]="pieChartData"
                  [labels]="pieChartLabels"
                  [chartType]="pieChartType"
                  [options]="pieChartOptions"
                  [colors]="pieChartColors"
                  [legend]="pieChartLegend">
          </canvas>
        </div>
      </div>
      <div class="col-md-4">
        <div class="chart card card-body shadow">
          <p class="mb-0">Métodos de envío</p>
          <p style="font-size: x-small" class="text-muted">Ventas realizadas según los métodos de envío</p>
          <canvas baseChart
                  [data]="pieChartData1"
                  [labels]="pieChartLabels1"
                  [chartType]="pieChartType"
                  [options]="pieChartOptions"
                  [colors]="pieChartColors"
                  [legend]="pieChartLegend">
          </canvas>
        </div>
      </div>
      <div class="col-md-4">

        <div class="chart card card-body shadow">
          <p class="mb-0">Descuentos</p>
          <p style="font-size: x-small" class="text-muted">Total de descuentos generados</p>
          <canvas baseChart
                  [colors]="doughnuChartColors"
                  [data]="doughnutChartData"
                  [labels]="doughnutChartLabels"
                  [chartType]="doughnutChartType"
                  [options]="doughnutChartOptions">
          </canvas>
        </div>
      </div>

    </div>
    <br>


    <div class="row ">
      <div class="col-md-11 mx-auto ">
        <div class="card card-body shadow-lg">
          <div>
            <div class="row">
              <div class="col-md-auto">
                <h4 class="mb-0">Ventas</h4>
                <p>Ventas realizadas por mes</p>
              </div>
              <div class="dropdown float-right align-content-center ml-auto col-md-auto btn-sm">
                <select class="form-control small" (change)="cambiarAnio($event.target.value)">
                  <option disabled>{{anioActual}} Actual</option>
                  <option *ngFor="let anio of anios" [value]="anio">{{anio}}</option>
                </select>
              </div>
            </div>
          </div>
          <br>

          <canvas height="250" baseChart [colors]="curveChartColors" [datasets]="curveChartData"
                  [labels]="curveChartLabels"
                  [options]="curveChartOptions"
                  [legend]="curveChartLegend" [chartType]="curveChartType" (chartHover)="chartHovered($event)"
                  (chartClick)="chartClicked($event)"></canvas>
        </div>
      </div>
    </div>
    <br>


    <div class="row mx-md-5 justify-content-between ">
      <div class="col-md-7">
        <div class="card card-body shadow-lg">
          <div>
            <div class="row">
              <div class="col-md-auto">
                <h4 class="mb-0">Ventas vs Visitas</h4>
                <p>Ventas y visitas realizadas por mes</p>
              </div>
            </div>
          </div>
          <canvas height="300" baseChart
                  [colors]="barChartColors"
                  [datasets]="barChartData"
                  [labels]="barChartLabels"
                  [options]="barChartOptions"
                  [legend]="barChartLegend"
                  [chartType]="barChartType">
          </canvas>

        </div>

      </div>
      <div class="col-md-5  ">
        <div class="card card-body shadow-lg" style="max-width: 100%; height: 100%">
          <h4 class="mb-0   ">Más vendido   </h4>
          <p class="text-muted">El producto más vendido</p>
          <div class="row no-gutters align-content-center">
            <div class="col-md-4">
              <img [src]="getImagen(this.productoMasVendido?.IMAGEN_PRODUCTOs[0].IMAGEN)" class="card-img" alt="imagen"
                   height="100%">
            </div>
            <div class="col-md-8">
              <div class="card-body">

                <h5 class="title-card">{{this.productoMasVendido?.PRODUCTO.NOMBRE_PRODUCTO}}</h5>
                <br>
                <p><strong>Marca:</strong></p>
                <p><strong>Color:</strong></p>
                <p><strong>Talla:</strong></p>
                <p><strong>Material:</strong></p>
              </div>
            </div>
          </div>
        </div>


      </div>
    </div>
  </div>

</div>

</body>
