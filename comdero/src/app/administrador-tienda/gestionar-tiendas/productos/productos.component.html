<div class="container mt-5">
  <div class="row justify-content-center">
    <h4 class=" col-11  ">Agregar Producto</h4>
    <hr class="col-11  ">
  </div>

  <div class="row  justify-content-md-center">
    <div class="col-md-7">

      <form class="card card-body ">
        <h6>Información</h6>
        <hr>
        <div class="container">
          <div class="form-row ">
            <div class="col-12">
              <label>Nombre</label>
              <input class=" form-control py-3 " type="text" name="nombre">
            </div>
          </div>
          <div class="form-row mt-2">
            <div class="col-lg-6">
              <label>Codigo</label>
              <input class=" form-control py-3 " type="text" name="codigo">
            </div>
            <div class="col-lg-6">
              <label>Marca </label>
              <input class="form-control py-3 " type="text" name="marca">
            </div>
          </div>

          <div class="form-group mt-2">
            <label>Descripción del producto </label> <textarea class="form-control" required rows="2" type="text" name="descripcion"></textarea>
          </div>


          <div class="form-group">
            <label>Detalles del producto </label>
            <app-ngx-editor [config]="editorConfig" name="Detalle" ></app-ngx-editor>

            <!--<div [innerHTML]=this.htmlcomponent>
            </div>  para cuando quieras mostrar con stilos-->
          </div> <!-- form-group end.// -->
        </div>
      </form>

      <br>

      <form class="card card-body" name="form"> <!--Multimedia -->
        <h6>Multimedia</h6>
        <hr>
        <div class="form-group ">
          <a class="ml-2 mt-5">
            <label>Imagenes del producto </label>
            <span *ngIf="banderaMensajeMaximoImagenes" style="color: red"> *Recuerda máximo 6 imagenes </span></a>
          <div [ngClass]="{'borde-imagenes':!banderaAgregarImagen,'borde-imagenes1':banderaAgregarImagen }"
               class="row  mt-3 mx-2 ">
            <div *ngFor='let url of imagenes[0]; let i = index ' class="ml-2">
              <div class="col-auto card mt-2 px-0 pb-2">
                <label style="border: none;  ">
                  <img [src]="url" class="px-0" height="140px" width="140px">
                  <input (change)="subirImagenes($event,0)" accept="image/*" class="file" multiple name="files"
                         type="file">
                </label>
                <button (click)="quitarImagenes(0,i)" class="boton-cerrar btn-outline-danger px-0 py-0 ">Eliminar</button>
              </div>
            </div>
            <div *ngIf="!banderaAgregarImagen" class="mx-auto ">
              <div class="col-auto pt-4">
                <label class="imagen-agregar ">
                  <i class="fa fa-picture-o fa-4x"></i>
                  <i class="fa fa-plus-circle fa-2x ml-1"></i>
                  <input (change)="subirImagenes($event,0)" accept="image/*" class="file" multiple type="file">
                </label>
              </div>
            </div>
            <div *ngIf="!banderaAgregarImagen" class=" col-12 pb-5 mx-auto ">
              <p class="link-agregar-imagenes ">Click para Agregar imagenes</p>
            </div>

            <div *ngIf="banderaAgregarImagen && imagenes[0].length<6" class="py-2">
              <div class="col-auto  py-4  card  ml-2 ">
                <label class="imagen-agregar">
                  <i class="fa fa-picture-o fa-4x ml-4"></i>
                  <i class="fa fa-plus-circle fa-2x ml-1"></i>
                  <input (change)="subirImagenes($event,0)" accept="image/*" class="file" multiple type="file">
                  <br>
                  <p class="pb-1 pt-3 link-agregar-imagenes2">Agregar imagenes </p>
                  <p class=" link-agregar-imagenes2">maximo 6</p>

                </label>
              </div>
            </div>
          </div>
        </div> <!-- form-group end.// -->

        <br>
        <div class="form-group ">
          <a class="ml-2"><label>Video promocional del producto </label>
            <span *ngIf="banderaMensajeMaximoVideo" class="ml-2" style="color: red">* Recuerda Maximo 150MB</span></a>
          <div [ngClass]="{'borde-imagenes':!data.video,'borde-imagenes1':data.video }" class="row mt-3 mx-2 ">
            <div class=" col-12 mx-auto">
              <div *ngIf="this.banderaAnimacionVideo==true">
                <div class="fondoAnimacionCarga py-5">
                  <div class="pulse animated infinite py-5  ">
                    <img class="imagenCarga" src="./../assets/images/cargando.png">
                    <br><br>
                    <div>
                    </div>
                  </div>
                  <label style="color: white; text-align: center">Cargando previsualización, espere
                    porfavor....</label>
                </div>

              </div>
            </div>
            <div class=" col-12 mx-auto">
              <div *ngIf="data.video">

                <div class="mx-auto fondo-animacion-carga-video">
                  <video class="video-carga" controls height="auto" width="auto">
                    <source [src]="data.video" type="{{ data.type }}">
                  </video>
                </div>
              </div>
            </div>
            <div class=" col-auto  mx-auto">
              <div class=" pt-4 ml-2  ">
                <label class="imagen-agregar ">
                  <i class="fa fa-film fa-4x  "></i>
                  <i class="fa fa-plus-circle fa-2x ml-1 "></i>
                  <input (change)="subirVideo($event)" accept="video/*" class="file" type="file">
                </label>
              </div>
            </div>
            <div class=" col-12 mx-auto ">
              <p class="link-agregar-imagenes pb-5">Click para Agregar un video promocional del producto</p>
            </div>
          </div>
        </div>


      </form>
      <br>
      <form class=" card card-body ">
        <h6>Precios</h6>
        <hr>
        <div class="container">
          <div class="form-row">
            <div class="col-lg-6">
              <label> Precio unitario sin iva </label>

              <div class="input-group mb-3">
                <input class="form-control" placeholder="0.00" type="number">
                <div class="input-group-append">
                  <span class="input-group-text unidades">$</span>
                </div>
              </div>

            </div>
            <div class="col-lg-6">
              <label>Porcentaje de Iva </label>
              <div class="input-group mb-3">
                <input class="form-control" placeholder="12" type="number">
                <div class="input-group-append">
                  <span class="input-group-text unidades">%</span>
                </div>
              </div>
            </div>
          </div>

          <hr>

          <br>
        </div>
      </form>
      <br>
      <form class=" card card-body ">
        <h6>Retiros y Envios</h6>
        <hr>
        <div class="container">
          <div class="form-group">
            <label>¿Desea ofrecer retiro en persona?</label>
            <div class="form-group">
              <label class="custom-control custom-radio custom-control-inline">
                <input (change)="opcionRetiroPersona(0)" class="custom-control-input" name="entregaPersonal"  type="radio"  value="Si">
                <span class="custom-control-label"> Si  </span>
              </label>
              <label class="custom-control custom-radio custom-control-inline">
                <input (change)="opcionRetiroPersona(1)" checked="true" class="custom-control-input" name="entregaPersonal" type="radio" value="No">
                <span class="custom-control-label"> No </span>
              </label>
            </div> <!-- form-group end.// -->
          </div>

          <div class="form-group">
            <label>¿Desea ofrecer el servicio de entrega a domicilio dentro de la localidad?</label>
            <div class="form-group">
              <label class="custom-control custom-radio custom-control-inline">
                <input (change)="opcionEntregaLocalidad(0)" class="custom-control-input" name="entregaLocalidad" type="radio"  value="Si">
                <span class="custom-control-label"> Si  </span>
              </label>
              <label class="custom-control custom-radio custom-control-inline">
                <input (change)="opcionEntregaLocalidad(1)" checked="" class="custom-control-input"  name="entregaLocalidad" type="radio"  value="No">
                <span class="custom-control-label"> No </span>
              </label>
            </div> <!-- form-group end.// -->
          </div>

          <div *ngIf="this.banderaEntregaDomicilioLocalidad" class="col-12 mt-3 form-group">
            <div *ngFor=" let opcion of vectorOpcionesEntregaLocal; let i=index" class="form-row">
              <div class="form-group col-lg-5">
                <label>Opcion {{i+1}}</label>
                <select class="form-control " ></select>
              </div>
              <div class="form-group  col-lg-3">
                <label> Precio </label>
                <div class="input-group mb-3">
                  <input class="form-control" type="number" placeholder="0.00">
                  <div class="input-group-append">
                    <span class="input-group-text unidades">$</span>
                  </div>
                </div>
              </div>
              <div class="form-group  col-lg-3">
                <label>Tiempo de entrega </label>
                <div class="input-group mb-3">
                  <input  class="form-control" type="number" placeholder="2">
                  <div class="input-group-append">
                    <span class="input-group-text unidades">Dia/s</span>
                  </div>
                </div>
              </div>
              <div class="form-group  col-lg-1 ">
                <label style="opacity: 0">boorar</label>
                <button (click)="borrarOpcionesEntregaLocal(i)" class="form-control btn btn-outline-danger" style="font-size: smaller">
                  <span class="fa fa-trash "></span>
                </button>
              </div>
            </div>

            <p (click)="agregarOpcionesEntregaLocal()" class="agregar" id="agregarOpcionesEntregaLocal">
              <span class="fa fa-plus "></span> &nbsp;Agregar opcion
            </p>
          </div>

          <div class="form-group">

            <label>¿Desea ofrecer el servicio de entrega a domicilio fuera de la localidad?</label>


            <div class="form-group">
              <label class="custom-control custom-radio custom-control-inline">
                <input (change)="opcionEntregaFueraLocalidad(0)" class="custom-control-input" name="entregaFueraLocalidad" type="radio"  value="Si">
                <span class="custom-control-label"> Si  </span>
              </label>
              <label class="custom-control custom-radio custom-control-inline">
                <input (change)="opcionEntregaFueraLocalidad(1)" checked class="custom-control-input" name="entregaFueraLocalidad" type="radio"  value="No">
                <span class="custom-control-label"> No </span>
              </label>
            </div> <!-- form-group end.// -->
          </div>

          <div *ngIf="banderaEntregaDomicilioFueraLocalidad" class="col-12 mt-3 ">
            <div *ngFor=" let opcion of vectorOpcionesEntregaFueraLocalidad; let i =index" class="form-row">
              <div class="form-group col-lg-5">
                <label>Opcion {{i+1}}</label>
                <select class="form-control " ></select>
              </div>
              <div class="form-group  col-lg-3">
                <label> Precio </label>
                <div class="input-group mb-3">
                  <input class="form-control" type="number" placeholder="0.00">
                  <div class="input-group-append">
                    <span class="input-group-text unidades">$</span>
                  </div>
                </div>
              </div>
              <div class="form-group  col-lg-3">
                <label>Tiempo de entrega </label>
                <div class="input-group mb-3">
                  <input  class="form-control" type="number" placeholder="2">
                  <div class="input-group-append">
                    <span class="input-group-text unidades">Dia/s</span>
                  </div>
                </div>
              </div>
              <div class="form-group  col-lg-1 ">
                <label style="opacity: 0">boorar</label>
                <button (click)="borrarOpcionesEntregaFueraLocalidad(i)" class="form-control btn btn-outline-danger" style="font-size: smaller">
                  <span class="fa fa-trash "></span>
                </button>
              </div>
            </div>

            <p (click)="agregarOpcionesEntregaFueraLocalidad()" class="agregar" id="agregarOpcionesEntregaFueraLocalidad">
              <span class="fa fa-plus "></span> &nbsp;Agregar opcion
            </p>
          </div>

          <br>
        </div>
      </form>

      <br>
      <form class=" card card-body ">

        <h6>Inventario</h6>
        <hr>
        <div class="container">
          <div class="form-group">
            <label>Ingresse la cantidad y la unidad de medida en la cual se ofertara el producto</label>
          </div>
          <div class="form-group col-lg-8">
            <div class="input-group">

              <input class="form-control" type="text"placeholder="20">

              <select class="browser-default form-control col " id="selectUnidad" style="font-size: small">
                <option selected disabled="true" value="unidad">Unidad</option>
                <option *ngFor="let unidad of this.unidades" >{{unidad.COD_UNIDAD_MEDIDA}}</option>

              </select>

            </div>
          </div>

          <div class="form-group ml-2">
            <div class="custom-control custom-checkbox">
              <input class="custom-control-input" id="rastrearCantidad" type="checkbox">
              <label class="custom-control-label" for="rastrearCantidad">Rastrear la cantidad</label>
            </div>
          </div>


          <div class="form-group ml-2">
            <div class="custom-control custom-checkbox">
              <input class="custom-control-input" id="venderDespuesAgotado" type="checkbox">
              <label class="custom-control-label" for="venderDespuesAgotado">Continuar vendiendo cuando se haya agotado</label>
            </div>
          </div>


          <div class="form-group ml-2">
            <div class="custom-control custom-checkbox">
              <input class="custom-control-input" id="permitirReservaProducto" type="checkbox">
              <label class="custom-control-label" for="permitirReservaProducto" >Permitir la reserva del producto</label>
            </div>
          </div>

          <br>
        </div>
      </form>
      <br>
      <form class=" card card-body ">
        <h6>Garantia</h6>
        <hr>
        <div class="container">
          <label>Seleccione el tipo de garantia ofrecida por este producto</label>
          <br><br>
          <div class="form-group">
            <label class="custom-control custom-radio custom-control-inline">
              <input class="custom-control-input" (click)="opcionGarantia($event.target.value)" checked name="garantia" type="radio" value="Garantia del vendedor">
              <span class="custom-control-label"> Garantia del vendedor </span>
            </label>
          </div>
          <div class="form-group">
            <label class="custom-control custom-radio custom-control-inline">
              <input  (click)="opcionGarantia($event.target.value)" class="custom-control-input"  name="garantia" type="radio" value=" Garantia de fabrica">
              <span class="custom-control-label"> Garantia de fabrica </span>
            </label>
          </div>
          <div class="form-group">
            <label class="custom-control custom-radio custom-control-inline">
              <input (click)="opcionGarantia($event.target.value)"  class="custom-control-input" name="garantia" type="radio" value=" Sin garantia">
              <span class="custom-control-label"> Sin garantia </span>
            </label>
          </div>

          <br>
        </div>
      </form>
      <br>
      <form class=" card card-body ">

        <h6>Variaciones</h6>
        <hr>
        <div class="form-group ml-2">
          <label>Este producto contiene multiples opciones, asi como clores, marca y materiales?</label>

          <div class="form-group">
            <label class="custom-control custom-radio custom-control-inline">
              <input (change)="opcionVariaciones()"  class="custom-control-input" name="variaciones" type="radio" value="Si">
              <span class="custom-control-label"> Si  </span>
            </label>
            <label class="custom-control custom-radio custom-control-inline">
              <input (change)="opcionVariaciones()"  checked class="custom-control-input" name="variaciones" type="radio" value="No">
              <span class="custom-control-label"> No </span>
            </label>
          </div>
        </div>


        <div *ngIf="banderaVariaciones" class="form-row container">
          <div class="form-group">
            <div class="alert alert-secondary" role="alert">
              Primero establesca las opciones base del producto, es decir las correspondientes a las imagenes que agregó
              anterior mente,
              luego si desea agregar mas opciones , ademas imagenes, y un precio diferente de click en agregar
            </div>
          </div>

          <div class="form-group col-md-2 offset-lg-1 justify-content-center">
            <label>Color</label>

            <input class="form-control input-colores"   [style.background]="color1" [(colorPicker)]="color1" (colorPickerChange)="onChangeColor($event)"/>
          </div>
          <div class="form-group  col-md-4">
            <label> Talla </label>
            <input class="form-control " placeholder="Ej. xl/34/etc" type="text">
          </div>
          <div class="form-group  col-md-4">
            <label>Material</label>
            <input class="form-control  " placeholder="Ej. Gamusa/algodon" type="text">
          </div>

        </div>
        <div *ngFor="let item of this.vectorOpciones; index as i" class="form-row container">
          <div class="form-group col-md-12 mt-4">
            <p style="font-weight: bolder; font-size: medium">Opcion {{i + 1}}</p>
            <hr>
          </div>

          <div class="form-group col-md-2 offset-lg-1 justify-content-center">
            <label>Color</label>
            <input class="form-control input-colores"   [style.background]="color1" [(colorPicker)]="color1" (colorPickerChange)="onChangeColor($event)"/>
          </div>
          <div class="form-group  col-md-4">
            <label> Talla </label>
            <input class="form-control " placeholder="Ej. xl/34/etc" type="text">
          </div>
          <div class="form-group  col-md-4">
            <label>Material</label>
            <input class="form-control  " placeholder="Ej. Gamusa/algodon" type="text">
          </div>

          <div class="form-group  col-md-1 ">
            <label style="opacity: 0">boorar</label>
            <button (click)="borrarOpcionesProducto(i)" class="form-control btn btn-outline-danger" style="font-size: smaller">
              <span class="fa fa-trash "></span>
            </button>
          </div>

          <div class="form-group col-12">
            <a class="ml-2 mt-5">
              <label>Imagenes de la opcion {{i+1}} </label>
              <span *ngIf="banderaMensajeMaximoImagenes" style="color: red"> *Recuerda máximo 6 imagenes </span></a>
            <div [ngClass]="{'borde-imagenes':!banderaAgregarImagen,'borde-imagenes1':banderaAgregarImagen }"
                 class="row  mt-3 mx-2 ">
              <div *ngFor='let url of imagenes[i+1]; index as j ' class="ml-2">
                <div class="col-auto card mt-2 px-0 pb-2">
                  <label style="border: none;  ">
                    <img [src]="url" class="px-0" height="140px" width="140px">
                    <input (change)="subirImagenes($event,i+1)" accept="image/*" class="file" multiple name="files"
                           type="file">
                  </label>
                  <button (click)="quitarImagenes((i+1),j)" class="boton-cerrar btn-outline-danger px-0 py-0 ">Eliminar</button>
                </div>
              </div>
              <div *ngIf="!banderaAgregarImagen" class="mx-auto ">
                <div class="col-auto pt-4">
                  <label class="imagen-agregar ">
                    <i class="fa fa-picture-o fa-4x"></i>
                    <i class="fa fa-plus-circle fa-2x ml-1"></i>
                    <input (change)="subirImagenes($event,i+1)" accept="image/*" class="file" multiple type="file">
                  </label>
                </div>
              </div>
              <div *ngIf="!banderaAgregarImagen" class=" col-12 pb-5 mx-auto ">
                <p class="link-agregar-imagenes ">Click para Agregar imagenes</p>
              </div>

              <div *ngIf="banderaAgregarImagen && imagenes.length<6" class="py-2">
                <div class="col-auto  py-4  card  ml-2 ">
                  <label class="imagen-agregar">
                    <i class="fa fa-picture-o fa-4x ml-4"></i>
                    <i class="fa fa-plus-circle fa-2x ml-1"></i>
                    <input (change)="subirImagenes($event,i+1)" accept="image/*" class="file" multiple type="file">
                    <br>
                    <p class="pb-1 pt-3 link-agregar-imagenes2">Agregar imagenes </p>
                    <p class=" link-agregar-imagenes2">maximo 6</p>

                  </label>
                </div>
              </div>
            </div>
          </div> <!-- form-group end.// -->

          <div class="form-group col-6">
            <label> Stock y unidad de medida del producto</label>
            <div class="input-group">

              <input aria-label="Text input with dropdown button" class="form-control" type="text">

              <select class="browser-default form-control col-5 " id="selectUnidades">
                <option selected>Unidades</option>
                <option value="1">Lb</option>
                <option value="2">Kg</option>
                <option value="3">Onz</option>
              </select>

            </div>
          </div>

          <div class="form-group  col-md-4">
            <label>Precio</label>
            <div class="input-group mb-3">
              <input aria-label="Amount (to the nearest dollar)" class="form-control" type="text">
              <div class="input-group-append">
                <span class="input-group-text unidades">$</span>
              </div>
            </div>
          </div>


        </div>
        <div *ngIf="banderaVariaciones" class="form-group col-md-12">
          <p (click)="agregarOpcionesProducto()" class="agregar">
            <span class="fa fa-plus "></span> &nbsp;Agregar opcion
          </p>
        </div>
      </form>
      <br>

      <button class="btn btn-primary" type="submit">Crear producto</button>
      <br> <br>
    </div>
    <div class="card card-body col-md-4 ml-3 container-categoria ">
      <div class="container">


        <h6>Categorias</h6>
        <hr class="mb-0">
        <label class="text-muted">Selecciona las categorias a las cuales pertenece el producto</label>

        <div *ngFor="let c11 of this.c1; let i = index">
          <hr class="mb-1 mt-1">

          <div class="dropdown justify-content-center">

            <button (click)="busquedaCate2(c11.ID_CATEGORIA)" [attr.data-target]="'#myModal'+i"
                    aria-expanded="false" aria-haspopup="true" class="categoria dropdown-toggle dropdown-toggle-split"
                    data-toggle="collapse"><span class="{{this.vectorIconos[i]}} iconos-categoria"></span>&nbsp;&nbsp;&nbsp;&nbsp;{{c11.NOMBRE}}
            </button>

            <div class="form-row mb-3 collapse   justify-content-center" id="myModal{{i}}">
              <div *ngFor="let c22 of this.categoriaEncontrada2">
                <button (click)="busquedaCate(c22.ID_CATEGORIA)" *ngIf="c11.ID_CATEGORIA==c22.CAT_ID_CATEGORIA"
                        class="chip  col btn"
                >{{c22.NOMBRE}}</button>
                <div class="form-row  justify-content-center">
                  <div *ngFor="let c33 of this.categoriaEncontrada">

                    <button *ngIf="c11.ID_CATEGORIA==c22.CAT_ID_CATEGORIA && c22.ID_CATEGORIA==c33.CAT_ID_CATEGORIA"
                            class="chip2 col btn btn-light">{{c33.NOMBRE}}</button>

                  </div>

                </div>
              </div>
            </div>
          </div>


          <!-- <button (click)="cc($event)" class="col btn btn-light clicked">asd</button>-->


        </div>
      </div>
    </div>
  </div>
</div>
